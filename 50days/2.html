<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Progress bar</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        :root {
            --success: #6abe82;
        }
        body {}
        main {
            height: 100%;
            display: grid;
            place-items: center;
        }
        .container {
            display: grid;
            place-items: center;
            padding: 10px;
        }
        .progress-bar {
            position: relative;
            height: 100px;
            width: 320px;
        }
        .circle {
            width: 30px;
            height: 30px;
            border-style: solid;
            border-width: 3px;
            border-color: #ccc;
            border-radius: 100px;
            display: grid;
            place-items: center;
            background: #fff;
            transition: all 200ms linear;
            position: absolute;
            z-index: 1;
            color: gray;
            font-size: 1.3rem;
        }
        .one {
            top: 32%;
            left: 5px;
        }
        .two {
            top: 32%;
            left: 100px;
        }
        .three {
            top: 32%;
            right: 90px;
        }
        .four {
            right: 0;
            top: 32%;
        }
        .bar {
            width: 75px;
            height: 10px;
            background: #ccc;
            position: absolute;
        }
        .p-bar {
            height: 10px;
            width: 0px;
            transition: width 1s ease-in;
        }
        .b-one {
            top: 45%;
            left: 30px;
            
        }
        .b-two {
            left: 50px;
            top: 45%;
            transform: translateX(75px);
        }
        .b-three {
            top: 45%;
            right: 30px;
        }
        
        .move {
            width: 100%;
        }
        .c-bar {
            background: var(--success);
        }
        .c-circle {
            border-color: var(--success);
        }
        .c-btn {
            background: #3f72ae;
        }
        .buttons {
            margin-block-start: 20px;
        }
        .btn {
            color: #fff;
            border: none;
            outline: none;
            padding: 8px 15px 8px 15px;
            margin: 20px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <main>
        <div class="container">
            <h1>Progress Bar</h1>
            <div class="progress-bar">
                <div class="circle one c-circle">
                    <span>1</span>
                </div>
                <div class="bar b-one">
                    <div id='bar-1' class="p-bar"></div>
                </div>
                <div class="circle two">
                    <span>2</span>
                </div>
                <div class="bar b-two">
                    <div id='bar-2' class="p-bar"></div>
                </div>
                <div class="circle three">
                    <apan>3</apan>
                </div>
                <div class="bar b-three">
                    <div id='bar-3' class="p-bar"></div>
                </div>
                <div class="circle four">
                    <span>4</span>
                </div>
            </div>
            <div class="buttons b-four">
                <button id="prev" class="btn">prev</button>
                <button id="next" class="btn c-btn">next</button>
            </div>
        </div>
    </main>

    <script>
        window.onload = function() {
            const prev = document.getElementById('prev');
            const next = document.getElementById('next');

            const circles = document.getElementsByClassName('circle');
            const bars = document.getElementsByClassName('p-bar');

            let progress = 0;

            prev.addEventListener('click', evt => {
                if(progress > 0) {
                    
                    circles[progress].classList.remove('c-circle');
                    next.classList.add('c-btn');
                    setTimeout(() => {
                        bars[--progress].classList.remove('move');
                        if (progress < 1) {
                            evt.target.classList.remove('c-btn');
                        }
                    }, 100);
                }
            });
            
            next.addEventListener('click', evt => {
                if (progress < 3) {
                    bars[progress].classList.add('c-bar')
                    bars[progress].classList.add('move');
                    prev.classList.add('c-btn');
                    setTimeout(() => {
                        circles[progress].classList.add('c-circle');
                        if (progress > 2) {
                            evt.target.classList.remove('c-btn')
                        }
                    }, 1000);
                    progress++;
                    
                }
            });

        }

    </script>
</body>
</html>